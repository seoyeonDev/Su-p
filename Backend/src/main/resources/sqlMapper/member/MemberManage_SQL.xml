<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
        
<!-- namespace에 mapper가 생성되어 있는 패키지 경로를 적어준다. -->
<mapper namespace="com.example.studyproject.member.MemberDao">

	<!-- 회원가입 -->
	<insert id="insertMember">
		INSERT INTO member
		(
			user_id,
			password,
			name,
			nickname,
			email,
			profile_img
		)
		VALUES
		(
			#{user_id},
			#{password},
			#{name},
			#{nickname},
			#{email},
			#{profile_img}
		);
	</insert>
	
	<!-- 로그인 -->
	<select id="loginMember" resultType="com.example.studyproject.member.Member">
		SELECT *
		FROM member
		WHERE user_id = #{user_id}
		AND password = #{password}
	</select>
	
	<!-- 실패횟수 업데이트 -->
	<update id="updateFailNum">
		UPDATE member
		SET fail_num = #{fail_num}
		WHERE user_id = #{user_id}
	</update>
	
	<!-- 잠금여부 업데이트 -->
	<update id="updateLockYn">
		UPDATE member
		SET lock_yn = #{lock_yn}
		WHERE user_id = #{user_id}
	</update>
	
	<!-- id에 Dao의 메서드명을 맵핑해주고, resultType에 vo의 패키지 경로를 적어준다. -->
	<select id="getMemberById" resultType="com.example.studyproject.member.Member">
		SELECT * FROM member WHERE user_id = #{user_id}
	</select>

	<!-- 회원 탈퇴 -->
	<delete id="deleteMember">
		DELETE FROM member
		WHERE user_id = #{user_id}
	</delete>
</mapper>